<%- include("partials/header") -%>


<div class="head">
  <h4>Edit Timing</h4>
</div>

<div id="liveAlertPlaceholder"></div>

<form action="/timing" method="post">
    <div class="form-floating">
        <select name="period" id="period" class="form-control" title="select the period" placeholder="Enter the Period">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
        </select>
        <label for="period">Period</label>
    </div>
    <div class="form-floating">
        <input class="form-control" onchange="onTimeChange()" type="time" required id="start" name="start">
        <label for="start">Start time</label>
    </div>
    <div class="form-floating">
        <input class="form-control" type="time" required id="end" name="end">
        <label for="end">End time</label>
    </div>
    <div class="new-task">
        <button type="submit" class="add btn btn-outline-primary" id="liveAlertBtn" value="edit" name="edit">Edit</button>
    </div>
</form>

<form action="/backTiming" method="post">
  <div class="delete-add" style="display: flex; justify-content: space-between;">
    <div style="float: left; position: relative; bottom: 65px;">
      <button type="submit" class="add btn btn-outline-danger" value="back" name="back">Back</button>
    </div>
  </div>
</form>


<script>
  const alertPlaceholder = document.getElementById('liveAlertPlaceholder')
  const appendAlert = (message, type) => {
  const wrapper = document.createElement('div')
  wrapper.innerHTML = [
    `<figure class="notification_${type}">`,
      `<div class="notification_body_${type}">`,
        `<img src="images/${type}.png" title="Success" alt="Success" class="notification_icon_${type}"/>`,
        `${message}`, 
      '</div>',
      `<div class="notification_progress_${type}"></div>`,
    '</figure>',
  ].join('')
  alertPlaceholder.append(wrapper)
}

const alertTrigger = document.getElementById('liveAlertBtn');

if (alertTrigger) {
  alertTrigger.addEventListener('click', () => {
    appendAlert('Timing modified successfully!', 'success')
  });
}
</script>

<%- include("partials/footer") -%>
