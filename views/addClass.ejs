<%- include("partials/header") -%>


<div class="head">
  <h4>Add Class</h4>
</div>

<div id="liveAlertPlaceholder"></div>

<form action="/addClass" method="post">
  <div class="form-floating">
    <input class="form-control" placeholder="Enter the Day" type="text" required pattern="[a-zA-Z]{6,9}" title="must mention the day completely Ex:Monday" id="day" name="day">
    <label for="day">Day</label>
  </div>
  <div class="form-floating">
    <input class="form-control" onchange="onTimeChange()" type="time" required id="start" name="start">
    <label for="start">Start time</label>
  </div>
  <div class="form-floating">
    <input class="form-control" type="time" required id="end" name="end">
    <label for="end">End time</label>
  </div>
  <div class="form-floating">
    <input class="form-control" type="text" required pattern="[a-zA-Z0-9\s]{1,10}" title="must contain only alphanumeric and space of upto 10 characters long" id="subject" placeholder="Subject" name="subject">
    <label for="subject">Subject</label>
  </div>
  <div class="new-task">
    <button type="submit" class="add btn btn-outline-primary" id="liveAlertBtn" value="add" name="add">Add</button>
  </div>
</form>

<form action="/back" method="post">
  <div class="delete-add" style="display: flex; justify-content: space-between;">
    <div style="float: left; position: relative; bottom: 65px;">
      <button type="submit" class="add btn btn-outline-danger" value="back" name="back">Back</button>
    </div>
  </div>
</form>


<script>
  const alertPlaceholder = document.getElementById('liveAlertPlaceholder')
  const appendAlert = (message, type) => {
  const wrapper = document.createElement('div')
  wrapper.innerHTML = [
    `<figure class="notification_${type}" style="position: fixed; top: 85px;">`,
      `<div class="notification_body_${type}">`,
        `<img src="images/${type}.png" title="Success" alt="Success" class="notification_icon_${type}"/>`,
        `${message}`, 
      '</div>',
      `<div class="notification_progress_${type}"></div>`,
    '</figure>',
  ].join('')
  alertPlaceholder.append(wrapper)
}

const alertTrigger = document.getElementById('liveAlertBtn');

if (alertTrigger) {
  alertTrigger.addEventListener('click', () => {
    appendAlert('New class Added Successfully!', 'success')
  });
}
</script>

<%- include("partials/footer") -%>
